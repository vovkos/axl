name: Default CI Workflow

on:
-   push
-   pull_request

jobs:
    ciWindows:
        name: Windows Build (Visual Studio 15 2017)
        runs-on: windows-2016
        steps:
        -   name: Checkout repo
            uses: actions/checkout@v2

        -   name: Prepare build directory
            run: |
                mkdir build
                cd build

        -   name: CMake configure
            run:  cmake .. -G "Visual Studio 15 2017 Win64"

        -   name: Build
            run: cmake --build . --config Debug

        -   name: Test
            run: ctest -C Debug
